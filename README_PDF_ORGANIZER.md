# PDF 수학 문제집 정리 도구

폴더 내 모든 PDF 파일을 과목/년도/중단원별로 자동 정리하고, 15MB 초과 파일을 10MB 단위로 분할하는 Python 스크립트입니다.

## 📋 기능

1. ✅ **자동 폴더 생성**: 과목(미적분/기하/확통/수1/수2) → 년도 → 중단원 구조로 정리
2. ✅ **파일명 파싱**: 파일명에서 과목, 년도, 중단원 자동 인식
3. ✅ **대용량 파일 분할**: 15MB 초과 파일을 10MB 단위로 자동 분할
4. ✅ **처리 결과 저장**: 모든 처리된 파일 목록을 `file_list.csv`로 저장

## 🔧 설치 방법 (초보자용)

### 1단계: Python 설치 확인

**Windows:**
1. `Win + R` 키를 누르고 `cmd` 입력 후 Enter
2. 다음 명령어 입력:
```bash
python --version
```

**Python이 설치되지 않은 경우:**
- Microsoft Store에서 "Python" 검색 후 설치 (권장)
- 또는 https://www.python.org/downloads/ 에서 다운로드
- **중요**: 설치 시 "Add Python to PATH" 체크박스를 반드시 선택!

### 2단계: 필요한 라이브러리 설치

**방법 1: 간단한 설치 (권장)**
```bash
pip install PyPDF2
```

**방법 2: requirements.txt 사용**
```bash
pip install -r requirements.txt
```

**설치 확인:**
```bash
python -c "import PyPDF2; print('PyPDF2 설치 완료!')"
```

### 3단계: 스크립트 다운로드

`organize_pdf.py` 파일을 PDF 파일들이 있는 폴더에 복사하세요.

## 🚀 사용 방법

### 기본 사용법

1. **PDF 파일들이 있는 폴더로 이동**
   - Windows 탐색기에서 폴더 주소창 클릭
   - 경로 복사 (예: `C:\Users\사용자\Documents\수학문제집`)

2. **명령 프롬프트 열기**
   - 폴더 주소창에 `cmd` 입력 후 Enter
   - 또는 `Shift + 우클릭` → "터미널에서 열기" (PowerShell)

3. **스크립트 실행**
```bash
python organize_pdf.py
```

### 다른 폴더 지정

```bash
python organize_pdf.py "C:\Users\사용자\Documents\수학문제집"
```

## 📁 폴더 구조

### 정리 전
```
수학문제집/
├── 수1_2024_삼각함수_문제.pdf
├── 미적분_2023_적분법_기출.pdf
├── 기하_2024_벡터_연습문제.pdf
└── ...
```

### 정리 후
```
수학문제집/
├── organized/
│   ├── 수1/
│   │   └── 2024/
│   │       └── 삼각함수/
│   │           └── 수1_2024_삼각함수_문제.pdf
│   ├── 미적분/
│   │   └── 2023/
│   │       └── 적분법/
│   │           └── 미적분_2023_적분법_기출.pdf
│   └── 기하/
│       └── 2024/
│           └── 벡터/
│               └── 기하_2024_벡터_연습문제.pdf
└── file_list.csv
```

## 🔍 파일명 인식 규칙

### 과목 인식 키워드
- **미적분**: "미적분", "미적"
- **기하**: "기하", "공간도형", "벡터"
- **확통**: "확통", "확률과통계", "확률", "통계"
- **수1**: "수1", "수학1", "수학 1"
- **수2**: "수2", "수학2", "수학 2"

**예시:**
- `수1_2024_삼각함수.pdf` → 수1/2024/삼각함수/
- `미적분_2023_기출문제.pdf` → 미적분/2023/기타/

### 년도 인식
- 2000~2099 범위의 4자리 숫자
- 예: 2024, 2023, 2022 등

### 중단원 인식 키워드
- 삼각함수, 수열, 극한, 미분법, 적분법
- 지수함수, 로그함수, 함수
- 벡터, 공간도형, 확률, 통계
- 순열, 조합, 이차곡선 등

**인식되지 않으면:**
- 과목: "기타" 폴더
- 년도: "미지정" 폴더
- 중단원: "기타" 폴더

## 📊 대용량 파일 분할

### 분할 기준
- **15MB 초과** 파일은 자동으로 분할
- **10MB 단위**로 분할 저장
- 분할된 파일은 `파일명_part1.pdf`, `파일명_part2.pdf` 형식

### 예시
```
20MB 파일 → part1.pdf (10MB) + part2.pdf (10MB)
25MB 파일 → part1.pdf (10MB) + part2.pdf (10MB) + part3.pdf (5MB)
```

## 📄 file_list.csv

처리 완료 후 생성되는 파일 목록:

| 원본파일명 | 과목 | 년도 | 중단원 | 크기(MB) | 상태 | 새위치 | 분할개수 | 처리일시 |
|-----------|------|------|--------|----------|------|--------|----------|----------|
| 수1_2024_삼각함수.pdf | 수1 | 2024 | 삼각함수 | 5.2 | 이동됨 | ... | 0 | 2024-01-11 10:30:00 |
| 미적분_2023_기출.pdf | 미적분 | 2023 | 기타 | 18.5 | 분할됨 | ... | 2 | 2024-01-11 10:30:15 |

## 💡 사용 팁

### 1. 파일명 작성 권장사항
```
과목_년도_중단원_추가정보.pdf
```
예: `수1_2024_삼각함수_기출문제.pdf`

### 2. 백업
처리 전에 원본 파일을 백업해두는 것을 권장합니다.

### 3. 중복 파일 처리
같은 이름의 파일이 있으면 자동으로 `파일명_1.pdf` 형식으로 이름이 변경됩니다.

### 4. 처리 시간
- 파일 수가 많으면 시간이 걸릴 수 있습니다
- 대용량 파일 분할은 특히 시간이 소요됩니다

## ⚠️ 주의사항

1. **원본 파일 보존**: 스크립트는 파일을 **복사**합니다. 원본은 그대로 유지됩니다.
2. **organized 폴더**: 정리된 파일은 `organized` 폴더에 저장됩니다.
3. **파일명 인식**: 파일명에 과목/년도/중단원 정보가 없으면 "기타" 폴더로 이동합니다.
4. **분할 파일**: 분할된 파일은 원본 파일명에 `_part1`, `_part2` 등이 추가됩니다.

## 🐛 문제 해결

### Q: "Python을 찾을 수 없습니다" 오류
**A**: Python이 설치되지 않았거나 PATH에 등록되지 않았습니다.
- Microsoft Store에서 Python 설치
- 또는 python.org에서 Python 다운로드 후 "Add Python to PATH" 선택

### Q: "pip가 인식되지 않습니다"
**A**: Python 설치 시 PATH 등록이 안 되었을 수 있습니다.
- Python 재설치 시 "Add Python to PATH" 체크
- 또는 `python -m pip install PyPDF2` 시도

### Q: 파일명이 제대로 인식되지 않아요
**A**: 파일명에 과목/년도/중단원 키워드가 포함되어 있는지 확인하세요.
- 예: `수1_2024_삼각함수.pdf` 형식 권장
- 인식되지 않으면 "기타" 폴더로 이동됩니다

### Q: 파일이 너무 커서 분할이 안 돼요
**A**: 
- PyPDF2 대신 pymupdf를 시도해보세요: `pip install pymupdf`
- 스크립트 내 `SPLIT_SIZE_MB` 값을 더 작게 조정 (예: 5MB)

### Q: organized 폴더가 너무 많아요
**A**: 
- 스크립트를 다시 실행하면 기존 `organized` 폴더를 그대로 사용합니다
- 삭제하려면 수동으로 삭제하세요

## 📚 고급 사용법

### 스크립트 수정하기

**과목 키워드 추가:**
```python
SUBJECT_KEYWORDS = {
    '미적분': ['미적분', '미적'],
    '기하': ['기하', '공간도형', '벡터'],
    # 여기에 추가
    '수학의정석': ['정석'],
}
```

**중단원 키워드 추가:**
```python
CHAPTER_KEYWORDS = [
    '지수함수', '로그함수', '삼각함수',
    # 여기에 추가
    '도함수', '부정적분',
]
```

**분할 크기 조정:**
```python
MAX_SIZE_MB = 15  # 분할 기준 (15MB 초과 시 분할)
SPLIT_SIZE_MB = 10  # 분할 단위 (10MB씩 분할)
```

## 📞 문의

문제가 발생하면 다음 정보와 함께 문의하세요:
- 오류 메시지 전체
- 사용 중인 Python 버전 (`python --version`)
- 파일명 예시

---

**Happy Organizing! 📚✨**